c# ---- eval = FALSE-------------------------------------------------------
## include::src/sum.R[]

## ---- echo = FALSE-------------------------------------------------------
source("src/sum.R")

## ---- eval = FALSE-------------------------------------------------------
## include::src/my_sum.R[]

## ---- echo = FALSE-------------------------------------------------------
source("src/my_sum.R")

## ------------------------------------------------------------------------
print(value)

## ------------------------------------------------------------------------
print(my_sum(1:3))

## ------------------------------------------------------------------------
print(value)

## ---- eval = FALSE-------------------------------------------------------
## include::src/my_sum_scope1.R[]

## ---- echo = FALSE-------------------------------------------------------
source("src/my_sum_scope1.R")

## ------------------------------------------------------------------------
print(my_sum(1:3))

## ------------------------------------------------------------------------
rm(value)
print(my_sum_broken(1:3))

## ------------------------------------------------------------------------
assertthat::assert_that(is.numeric(6))

## ------------------------------------------------------------------------
assertthat::assert_that(is.numeric("This is a string."))

## ---- eval = FALSE-------------------------------------------------------
## include::src/my_sum_assertion.R[]

## ---- echo = FALSE-------------------------------------------------------
source("src/my_sum_assertion.R")

## ------------------------------------------------------------------------
testthat::test_that("Simple test on summation.",
                    testthat::expect_identical(my_sum(c(2, 7)), 8)
                    )



## ---- eval = FALSE-------------------------------------------------------
## include::src/test_my_sum.R[]

## ---- echo = FALSE-------------------------------------------------------
source("src/test_my_sum.R")

## ------------------------------------------------------------------------
cov <- covr::file_coverage("src/my_sum_assertion.R", "src/test_my_sum_assertion.R")
print(cov)

## ------------------------------------------------------------------------
cov <- covr::file_coverage("src/my_sum_coverage.R", "src/test_my_sum_assertion.R")
print(cov)

## ------------------------------------------------------------------------
covr::zero_coverage(cov)

