<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>Funktionen Schreiben in <strong>R</strong></title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Funktionen Schreiben in <strong>R</strong></h1>
<span id="author">Dominik Cullmann</span><br />
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_worum_geht_es">1. Worum geht es?</h2>
<div class="sectionbody">
<div class="paragraph"><p>Naja, ums Schreiben von Funktionen in der Programmiersprache <strong>R</strong>.</p></div>
<div class="sect2">
<h3 id="_was_sind_funktionen">1.1. Was sind Funktionen?</h3>
<div class="ulist"><ul>
<li>
<p>
Funktionen sind Programmkonstrukte, mit denen Du Teile des von Dir
  geschriebenen Codes wiederverwenden kannst
  (siehe <a href="https://de.wikipedia.org/wiki/Funktion_(Programmierung)">Wikipedia</a>).
</p>
</li>
<li>
<p>
Funktionen sind in den Standardbiliotheken jeder Programmiersprache vorhanden,
  viele R-Funktionen kennst Du wahrscheinlich schon: <code>sum()</code>, <code>mean()</code>
  oder <code>summary()</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_warum_funktionen">1.2. Warum Funktionen?</h3>
<div class="ulist"><ul>
<li>
<p>
Damit Du Teile des von Dir geschriebenen Codes wiederverwenden kannst.
</p>
</li>
<li>
<p>
Dann musst Du, wenn Du Fehler im Code entdeckst, diese auch nur an einer
  Stelle korrigieren.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_wann_funktionen">1.3. Wann Funktionen?</h3>
<div class="paragraph"><p>Immer wenn Du merkst, dass Du (alten) Code mehrfach kopierst und an anderer
Stelle einfügst ohne ihn stark zu verändern, solltest Du darüber nachdenken,
eine Funktion (oder mehrere) aus ihm  zu schreiben.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_eine_neue_summenfunktion_für_r">2. Eine neue Summenfunktion für R</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_warum_wir_diese_funktion_nicht_schreiben_sollten">2.1. Warum wir diese Funktion nicht schreiben sollten</h3>
<div class="paragraph"><p>Eine Summenfunktion gibt es wahrscheinlich in jeder Programmiersprache, in <strong>R</strong>
heißt sie <code>sum()</code>. Diese Funktion ist besser, stabiler und schneller, als
alles, das wir selbst programmieren können.</p></div>
</div>
<div class="sect2">
<h3 id="_warum_wir_es_trotzdem_tun">2.2. Warum wir es trotzdem tun</h3>
<div class="paragraph"><p>Nunja, irgendwelchen Code müssen wir ja nehmen.
Ich habe die Summenberechnung ausführlich als Beispiel zur Schleifenprogrammierung in
<a href="https://fvafrcu.github.io/programmieren_in_r/#gute-schleifen">Programmieren in R</a> benutzt,
    und eine Wiederholung schadet sicher nicht.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vom_code_8230">3. Vom Code &#8230;</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>a  &lt;- c(2, 3, 4, 10) <span style="font-style: italic"><span style="color: #9A1900"># <b>&lt;1&gt;</b></span></span>
value &lt;- 0 <span style="font-style: italic"><span style="color: #9A1900"># <b>&lt;2&gt;</b></span></span>
<span style="font-weight: bold"><span style="color: #0000FF">for</span></span> (a_i in a) { <span style="font-style: italic"><span style="color: #9A1900"># <b>&lt;3&gt;</b></span></span>
    value &lt;- value + a_i  <span style="font-style: italic"><span style="color: #9A1900"># <b>&lt;4&gt;</b></span></span>
}
print(value) <span style="font-style: italic"><span style="color: #9A1900"># <b>&lt;5&gt;</b></span></span></tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] 19</code></pre>
</div></div>
<div class="paragraph"><p>Dabei siehst Du:</p></div>
<div class="colist arabic"><ol>
<li>
<p>
Definition des zu summierenden Vektors
</p>
</li>
<li>
<p>
Definition des zur Addition neutralen Elementes
</p>
</li>
<li>
<p>
Schleife über die Elemente des Vektors
</p>
</li>
<li>
<p>
Addition des aktuellen Vektorelementes zum Ergebnis
</p>
</li>
<li>
<p>
Ausgabe des Ergebnisses
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_8230_zur_funktion">4. &#8230; zur Funktion</h2>
<div class="sectionbody">
<div class="paragraph"><p>Für unsere Summenfunktion soll die Definition des zu summierenden Vektors
der Anwenderin überlassen werden, daher wird der Vektor zu einem Argument
der Funktion. Ich wähle als Namen für das Argument jetzt <code>x</code>, das könnte aber
auch <code>a</code> bleiben, es ist eine Frage der Konvention, und unter <code>x</code> verstehen wir
meist eine Unbekannte. Und als Ausgabe verwenden wir keine Druck- sondern eine
Rückgabefunktion (<code>return()</code> statt <code>print()</code>).
Das Ergebnis sieht dann so aus:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>my_sum &lt;- function(x) {
    value &lt;- 0
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> (x_i in x) {
        value &lt;- value + x_i
    }
    return(value)
}</tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_scoping">5. Scoping</h2>
<div class="sectionbody">
<div class="paragraph"><p>Programmiersprachen kennen für Objekte unterschiedliche Gültigkeitsbereiche
(englisch "scope"), wir sehen uns das am Beispiel an:</p></div>
<div class="sect2">
<h3 id="_schreibzugriffe">5.1. Schreibzugriffe</h3>
<div class="paragraph"><div class="title">Ausgangszustand</div><p>Im Augenblick hat das Objekte <code>value</code> den Wert 19:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>print(value)</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] 19</code></pre>
</div></div>
<div class="paragraph"><div class="title">Funktionsausführung</div><p>Jetzt wenden wir unsere Summenfunktion an und berechnen die Summe eines anderen Vektors:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>print(my_sum(1:3))</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] 6</code></pre>
</div></div>
<div class="paragraph"><p>Das Objekt <code>value</code> behält seinen Wert:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>print(value)</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] 19</code></pre>
</div></div>
<div class="paragraph"><p>Und das, obwohl wir innerhalb der Funktion dem Objekt <code>value</code> in der ersten
Zeile den Wert 0 zuweisen und diesen dann in der Schleife mit den Werten 1, 3
und 6 überschreiben:
<strong>R</strong> verwaltet automatisch die Gültigkeitsbereiche aller Objekte.
Es gibt daher ein Objekt names  <code>value</code> außerhalb der Funktion, das den Wert 19 enthält und unverändert bleibt.
Innerhalb der Funktion legt <strong>R</strong> ein neues lokales Objekt, ebenfalls mit dem Namen
<code>value</code>, an.
Du <em>kannst</em> auch aus einer Funktion in einen <a href="#_arbeiten_mit_gültigkeitsbereichen">anderen Gültigkeitsbereich</a> schreiben, wenn Du das wirklich willst.</p></div>
</div>
<div class="sect2">
<h3 id="_lesezugriffe">5.2. Lesezugriffe</h3>
<div class="paragraph"><div class="title">Lesen ist unsicher</div><p>Mit dem Namen eines Objektes wird dieses gelesen, innerhalb einer Funktion sucht
<strong>R</strong> zunächst nach einem lokalen Objekt des gesuchten Namens, dann in den der
Funktion übergeordneten Gültigkeitsbereichen, also außerhalb der Funktion.</p></div>
<div class="paragraph"><p>Das kann zu unerwünschten Nebeneffekten führen. Stell Dir vor, Du kommentierst
beim Schreiben der Summenfunktion die Definition des zur Addition neutralen
Elementes aus Versehen aus:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>my_sum_broken &lt;- function(x) {
    <span style="font-style: italic"><span style="color: #9A1900"># FIXME: this is accidentally commented out:</span></span>
    <span style="font-style: italic"><span style="color: #9A1900"># value &lt;- 0</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> (x_i in x) {
        value &lt;- value + x_i
    }
    return(value)
}</tt></pre></div></div>
<div class="paragraph"><p>Du führst die Funktion aus und erhälst:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>print(my_sum_broken(1:3))</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] 25</code></pre>
</div></div>
<div class="paragraph"><p>Was ist passiert?

Im ersten Durchlauf der Schleife gibt es beim Lesen von
<code>value</code> noch kein lokales Objekt dieses Namens. Daher sucht <strong>R</strong> außerhalb der
Funktion und findet ein Objekt mit dem Wert 19.
Zu diesem Objekt addieren
wir <code>x_i</code>, das im ersten Schleifendurchlauf den Wert <code>1</code> enthält und erschaffen
damit in der Funktion ein lokales Objekt names <code>value</code>, das dann im zweiten
Durchlauf der Schleife auch gelesen werden kann.</p></div>
<div class="paragraph"><p>Wenn Du diese Funktion verwendest, ohne vorher das Objekt <code>value</code> zu definieren,
oder das Objekt <code>value</code> entfernst und dann die Funktion ausführst</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>rm(value)
print(my_sum_broken(1:3))</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## Error in my_sum_broken(1:3): object 'value' not found</span></span>
</tt></pre></div></div>
<div class="paragraph"><p>erhälst Du einen Fehler, weil <strong>R</strong> auch außerhalb der Funktion kein Objekt
names <code>value</code> finden kann. Und diesen Fehler erwarten wir ja eigentlich, wenn
wir nur die Funktion betrachten: sie ist fehlerhaft.</p></div>
<div class="paragraph"><div class="title">Sicherer Lesen</div><p>Wie wir eine Funktion dazu bringen können, außerhalb ihres Gültigkeitsbereiches
zu schreiben (nein, das <em>wie</em> habe ich Dir noch nicht gezeigt&#8230; ), so können wir
eine Funktion auch zwingen, beim Lesen nur nach lokalen Objekten zu
suchen:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>my_sum_safer &lt;- function(x) {
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> (x_i in x) {
        value &lt;- get(<span style="color: #FF0000">"value"</span>, inherits = FALSE) + x_i
    }
    return(value)
}</tt></pre></div></div>
<div class="paragraph"><p>Selbst wenn wir ein Objekt namens <code>value</code> anlegen, gibt die Funktion nun einen
Fehler aus:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>value &lt;- 42
my_sum_safer(1:10)</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## Error in get("value", inherits = FALSE): object 'value' not found</span></span>
</tt></pre></div></div>
<div class="paragraph"><p>Ich finde es aber praktiabler, beim Schreiben einer Funktion darauf zu achten,
welche Objekte ich lese.<br />
Und wenn Du Funktionen <a href="#_testing">testest</a>, findest Du Fehler, die auf Scoping beruhen,
sehr schnell.</p></div>
</div>
<div class="sect2">
<h3 id="_arbeiten_mit_gültigkeitsbereichen">5.3. Arbeiten mit Gültigkeitsbereichen</h3>
<div class="paragraph"><p>Ein Befehl, mit dem Du alle Objekte Deines aktuellen Arbeitsbereiches löschen
kannst (entsprechend dem RStudio-Knopf mit dem Besensymbol <span class="footnote"><br />[Im <a href="https://github.com/rstudio/rstudio/releases/tag/v1.1.426">Code von RStudio v1.1.426</a> findet sich die Funktion hinter dem Knopf  in der Datei src/cpp/session/modules/SessionEnvironment.R, sie besteht im wesentlichen aus der Zeile<br />
rm(list=ls(envir=env, all.names=includeHidden), envir=env)<br />
Sie wird in src/cpp/session/modules/environment/SessionEnvironment.cpp in der C++-Funktion  removeAllObjects aufgerufen.
]<br /></span>) lautet:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>rm(list = ls(all.names = TRUE))</tt></pre></div></div>
<div class="paragraph"><p>Nun  bin ich
vergesslich, weshalb ich mir die Syntax schlecht merken kann und lieber eine
Funktion (aber keinen Knopf) hätte.
Da "der aktuelle Arbeitsbereich" ein Gültigkeitsbereich
(in <strong>R</strong> heissen die Gültigkeitsbereiche "environments", in <strong>S</strong> hiessen sie "frames") ist, und die
Funktionen  <code>ls</code> und <code>rm</code> nur in <em>einem</em> Gültigkeitsbereich arbeiten, funktioniert das naheliegende</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>wipe_clean &lt;- function() {
    rm(list = ls(all.names = TRUE))
}</tt></pre></div></div>
<div class="paragraph"><p><strong>nicht</strong>.</p></div>
<div class="paragraph"><p>Wenn ich den Gültigkeitsbereich explizit</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>wipe_clean &lt;- function() {
    rm(list = ls(name = parent.frame(), all.names = TRUE), envir = parent.frame())
}</tt></pre></div></div>
<div class="paragraph"><p>angebe, tut die Funktion, was ich wollte:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>ls()</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] "a"             "a_i"           "my_sum"        "my_sum_broken"
## [5] "my_sum_safer"  "value"         "wipe_clean"</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>wipe_clean()
ls()</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## character(0)</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_argumente">6. Argumente</h2>
<div class="sectionbody">
<div class="paragraph"><p>Funktionen kennen Argmumente, am besten nicht zu viele (siehe zum Beispiel <a href="#cc">[cc]</a>).
Unsere Summenfunktion kennt beispielsweise eines, nämlich den Vektor, den sie summieren soll. Der ist also ein obligatorisches Element, er hat keine Voreinstellung.</p></div>
<div class="paragraph"><p>FIXME: obligat: was, optional: wie, erstere sollten keinen default haben, letzteres schon.</p></div>
<div class="paragraph"><p>Eine Funktion, die, wie <code>wipe_clean</code>, kein Argument kennt, ist Folgende:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>memory_hogs &lt;- function() {
    z &lt;- sapply(ls(envir = parent.frame()),
                function(x) object.size(get(x, envir = parent.frame())))
    return(z)
}</tt></pre></div></div>
<div class="paragraph"><p>Diese Funktion gibt mir für jedes Objekt des Gültigkeitsbereiches, in dem ich sie aufrufe, den Speicherverbrauch aus.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>va &lt;- rep(mtcars, 1)
vb &lt;- rep(mtcars, 1000)
vc &lt;- rep(mtcars, 2000)
vd &lt;- rep(mtcars, 100)
memory_hogs()</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## memory_hogs          va          vb          vc          vd
##        7576        4232     3432720     6864720      343920</code></pre>
</div></div>
<div class="paragraph"><p>Bei so wenigen Objekten erkenne ich gleich, dass <code>vc</code> der größte Speicherfresser ist, und ich, falls mir der Speicher platzt und ich <code>vc</code> nicht mehr unbedingt brauche, <code>vc</code> löschen sollte.</p></div>
<div class="paragraph"><p>Aber wenn ich viele Objekte habe, wäre es doch schön, ein optionales Funktionsargument zu haben, dass in seiner Voreinstellung die Ausgabe nach Größe des Speicherbedarfs sortiert:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>memory_hogs &lt;- function(order = TRUE) {
    z &lt;- sapply(ls(envir = parent.frame()),
                function(x) object.size(get(x, envir = parent.frame())))
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> (order) z &lt;- z[order(z)]
    return(z)
}</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>memory_hogs()</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>##          va memory_hogs          vd          vb          vc
##        4232        9576      343920     3432720     6864720</code></pre>
</div></div>
<div class="paragraph"><p>Das ist ein klassisches Steuerargument, dass das Verhalten einer Funktion steuert.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>memory_hogs &lt;- function(...) {
    z &lt;- sapply(ls(envir = parent.frame()),
                function(x) object.size(get(x, envir = parent.frame())))
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> (! missing(...)) {
      z &lt;- z[order(z, ...)]
    }
    return(z)
}</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>memory_hogs()</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## memory_hogs          va          vb          vc          vd
##       13080        4232     3432720     6864720      343920</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>memory_hogs(decreasing = TRUE)</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>##          vc          vb          vd memory_hogs          va
##     6864720     3432720      343920       48048        4232</code></pre>
</div></div>
<div class="paragraph"><p>Anwendung:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>rm(list = names(memory_hogs(decreasing = TRUE)[1:2]))
memory_hogs(decreasing = TRUE)</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>##          vd memory_hogs          va
##      343920       48048        4232</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_return_value_und_side_effects">7. Return Value und Side Effects</h2>
<div class="sectionbody">
<div class="paragraph"><p>FIXME: Rückgabewert der Summenfuntion, wipe_clean hat gar keinen expliziten Rückgabewert, ihre eigentliche Funktionalität sind Nebenwirkungen.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>wipe_clean &lt;- function(environment = parent.frame()) {
    objects &lt;- ls(name = environment, all.names = TRUE)
    rm(list = objects, envir = environment)
    return(invisible(objects))
}</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>print(wipe_clean())</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] "memory_hogs" "va"          "vd"          "wipe_clean"</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>ls()</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## character(0)</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_modularisierung">8. Modularisierung</h2>
<div class="sectionbody">
</div>
</div>
<div class="sect1">
<h2 id="_funktionen_verwalten">9. Funktionen verwalten</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_lokal">9.1. Lokal</h3>
<div class="paragraph"><p>Mit source</p></div>
</div>
<div class="sect2">
<h3 id="_global">9.2. global</h3>
<div class="paragraph"><p>Mit .Rprofile und einer Schleife</p></div>
</div>
<div class="sect2">
<h3 id="_als_package">9.3. Als Package</h3>
<div class="paragraph"><p>Das ist am aufwendigsten, aber auch am elegantesten.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_argumententests">10. Argumententests</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_typentests">10.1. Typentests</h3>
<div class="paragraph"><p>Neben <code>asserthat</code> gibt es auch das R-Package <code>checkmate</code>.

assertthat und checkmate</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>assertthat::assert_that(is.numeric(6))</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>## [1] TRUE</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>assertthat::assert_that(is.numeric(<span style="color: #FF0000">"This is a string."</span>))</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## Error: "This is a string." is not a numeric or integer vector</span></span>
</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>my_sum &lt;- function(x) {
    assertthat::assert_that(is.numeric(x))
    value &lt;- 0
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> (x_i in x) {
        value &lt;- value + x_i
    }
    return(value)
}</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_auswahllisten">10.2. Auswahllisten</h3>
<div class="paragraph"><p>match.arg</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing">11. Testing</h2>
<div class="sectionbody">
<div class="paragraph"><p>Neben <code>testthat</code> gibt es auch das R-Package <code>RUnit</code>.</p></div>
<div class="sect2">
<h3 id="_testthat">11.1. Testthat</h3>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>testthat::test_that(<span style="color: #FF0000">"Simple test on summation."</span>,
                    testthat::expect_identical(my_sum(c(2, 7)), 8)
                    )</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## Error: Test failed: 'Simple test on summation.'</span></span>
<span style="font-style: italic"><span style="color: #9A1900">## * my_sum(c(2, 7)) not identical to 8.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">## 1/1 mismatches</span></span>
<span style="font-style: italic"><span style="color: #9A1900">## [1] 9 - 8 == 1</span></span>
</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>testthat::test_that(<span style="color: #FF0000">"Simple test on summation."</span>,
                    testthat::expect_identical(my_sum(c(2, 7)), 9)
                    )</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_test_coverage">11.2. Test Coverage</h3>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cov &lt;- covr::file_coverage(<span style="color: #FF0000">"src/my_sum_assertion.R"</span>, <span style="color: #FF0000">"src/test_my_sum_assertion.R"</span>)
print(cov)</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## Coverage: 100.00%</span></span>
</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## src/my_sum_assertion.R: 100.00%</span></span>
</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>cov &lt;- covr::file_coverage(<span style="color: #FF0000">"src/my_sum_coverage.R"</span>, <span style="color: #FF0000">"src/test_my_sum_assertion.R"</span>)
print(cov)</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## Coverage: 83.33%</span></span>
</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">## src/my_sum_coverage.R: 83.33%</span></span>
</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>covr::zero_coverage(cov)</tt></pre></div></div>
<div class="listingblock">
<div class="content">
<pre><code>##                filename functions line value
## 2 src/my_sum_coverage.R    my_sum    3     0</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cleanr">12. cleanr</h2>
<div class="sectionbody">
</div>
</div>
<div class="sect1">
<h2 id="_funktionen_dokumentieren">13. Funktionen dokumentieren</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">#' Remove All Objects From an Environment</span></span>
<span style="font-style: italic"><span style="color: #9A1900">#'</span></span>
<span style="font-style: italic"><span style="color: #9A1900">#' @param environment The environment to be wiped.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">#' @return A character vector containing the names of objects removed.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">#' @export</span></span>
wipe_clean &lt;- function(environment = parent.frame()) {
    objects &lt;- ls(name = environment, all.names = TRUE)
    rm(list = objects, envir = environment)
    return(invisible(objects))
}</tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_bibliographie">14. Bibliographie</h2>
<div class="sectionbody">
<div class="ulist bibliography"><ul>
<li>
<p>
<a id="cc"></a>[cc] R.C. Martin. 2008. <em>Clean Code: A Handbook of Agile Software Craftsmanship</em>.
    Pearson Education.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2018-03-11 21:14:13 CET
</div>
</div>
</body>
</html>
